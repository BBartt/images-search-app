(this["webpackJsonpimages-search-app"]=this["webpackJsonpimages-search-app"]||[]).push([[0],{45:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(14),i=n.n(c),s=(n(45),n(12)),r=n(4),l=n(10),u=n(18),d=n.n(u),h={getSuggestions:function(e){return d.a.get("https://cors-anywhere.herokuapp.com/https://unsplash.com/nautocomplete/".concat(e))}};var j="FETCH_SUGGESTIONS_START",p="FETCH_SUGGESTIONS_SUCCESS",O="FETCH_SUGGESTIONS_FAILURE",g=function(e){return function(t){t({type:j}),h.getSuggestions(e).then((function(e){var n;t((n=e.data,{type:p,payload:n}))})).catch((function(e){t({type:O,payload:e})}))}},v=function(e){return e.map((function(e){return e.query}))},b={home:"/",photos:"/photos"},m=n(3),f=n(16),x=n(1),N={magnifying_glass:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 520 520",width:"30",height:"30",children:Object(x.jsx)("path",{fill:"none",stroke:"#000",strokeWidth:"36",strokeLinecap:"round",d:"M280 278a153 153 0 10-2 2l170 170m-91-117l110 110-26 26-110-110"})}),close:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.717 6.697l-1.414-1.414L12 10.586 6.697 5.283 5.283 6.697 10.586 12l-5.303 5.303 1.414 1.414L12 13.414l5.303 5.303 1.414-1.414L13.414 12z",opacity:".75"})}),home:Object(x.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(x.jsx)("path",{className:"heroicon-ui",d:"M13 20v-5h-2v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-7.59l-.3.3a1 1 0 11-1.4-1.42l9-9a1 1 0 011.4 0l9 9a1 1 0 01-1.4 1.42l-.3-.3V20a2 2 0 01-2 2h-3a2 2 0 01-2-2zm5 0v-9.59l-6-6-6 6V20h3v-5c0-1.1.9-2 2-2h2a2 2 0 012 2v5h3z"})})},y=function(e){var t=e.name,n=e.color,o=e.className;return Object(x.jsx)("span",{className:"icon ".concat(n," ").concat(o," "),children:N[t]})},C=function(e){var t=e.className,n=e.disabled,o=void 0!==n&&n,a=e.children,c=e.onClick,i=e.iconColor,s=void 0===i?"black":i,r=e.icon;return Object(x.jsxs)("button",{disabled:!!o,className:["button",t||"",o&&"disabled"].join(" "),onClick:function(e){return c&&c(e)},children:[r&&Object(x.jsx)(y,{name:r,color:s}),Object(x.jsx)("span",{children:a})]})},w=function(e){var t,n=e.suggestions,a=void 0===n?[]:n,c=e.getSuggestion,i=e.getLetters,s=e.noDataText,r=void 0===s?"":s,l=e.leftIconName,u=void 0===l?"":l,d=e.leftIconColor,h=void 0===d?"":d,j=e.rightIconName,p=void 0===j?"":j,O=e.rightIconColor,g=void 0===O?"":O,v=e.defaultValue,b=void 0===v?"":v,N=Object(o.useState)({activeOption:-1,filteredOptions:[],showOptions:!1,userInput:b}),y=Object(f.a)(N,2),w=y[0],S=y[1],_=Object(o.useState)(r),k=Object(f.a)(_,2),I=k[0],T=k[1],E=function(e){var t=e.currentTarget.innerText;S({activeOption:0,filteredOptions:[],showOptions:!1,userInput:t}),c&&c(t)};return w.showOptions&&(w.filteredOptions.length&&w.userInput.length>=3?t=Object(x.jsx)("ul",{className:"options",children:w.filteredOptions.map((function(e,t){var n=t===w.activeOption?"option-active":"";return Object(x.jsx)("li",{onClick:E,className:n,children:e},e)}))}):(w.userInput.length>=3||0===w.userInput.length)&&(t=Object(x.jsx)("div",{className:"no-options",children:I||"No results :("}))),Object(x.jsxs)("div",{className:"autocomplete-component",children:[u&&Object(x.jsx)(C,{iconColor:h,icon:u,className:"icon-left",onClick:function(){c&&c(w.userInput)}}),Object(x.jsx)("input",{type:"text",className:"input".concat(u&&" padding-left-50"),onChange:function(e){var t=e.currentTarget.value;S(Object(m.a)(Object(m.a)({},w),{},{showOptions:!0,userInput:t})),i&&i(t)},onKeyUp:function(e){T(r);var t=w.activeOption,n=w.filteredOptions,o=e.target.value,i=o.length>0&&n[t],s=null===a||void 0===a?void 0:a.filter((function(e){return(null===e||void 0===e?void 0:e.toLowerCase().indexOf(o.toLowerCase()))>-1}));if(S({activeOption:-1,filteredOptions:s,showOptions:!0,userInput:o}),13===e.keyCode)o.length>0?(S(Object(m.a)(Object(m.a)({},w),{},{filteredOptions:[],showOptions:!1,userInput:i||o})),c&&c(i||o)):(T("Searched phrase can't be empty :)."),S(Object(m.a)(Object(m.a)({},w),{},{filteredOptions:[],showOptions:!0})));else if(38===e.keyCode){if(t<=-1)return;S(Object(m.a)(Object(m.a)({},w),{},{activeOption:t-1}))}else if(40===e.keyCode){if(t===n.length-1)return;S(Object(m.a)(Object(m.a)({},w),{},{activeOption:t+1}))}},value:w.userInput,placeholder:"Search free high-resolution photos",autoFocus:!0}),p&&w.userInput.length>0&&Object(x.jsx)(C,{iconColor:g,icon:p,className:"icon-right",onClick:function(){T(r),S({activeOption:-1,filteredOptions:[],showOptions:!1,userInput:""})}}),t]})};var S=function(){var e,t,n=Object(r.f)(),a=Object(l.b)(),c=Object(l.c)((function(e){return e.suggestions})),i=b.photos,s=Object(o.useCallback)((function(e){n.push({pathname:"".concat(i,"/").concat(e)})}),[n,i]);return Object(x.jsxs)("div",{className:"home-page",children:[Object(x.jsxs)("section",{className:"search-section",children:[Object(x.jsx)("h1",{children:"Images search app"}),Object(x.jsxs)("p",{children:["The internet's source of"," ",Object(x.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://unsplash.com/license",children:"freely-usable images."})]}),Object(x.jsx)("p",{children:"Powered by creators everywhere."}),Object(x.jsx)(w,{suggestions:(null===(e=c.data)||void 0===e||null===(t=e.autocomplete)||void 0===t?void 0:t.length)>0?v(c.data.autocomplete):[],getSuggestion:function(e){s(e)},getLetters:function(e){return e.length>=3&&a(g(e))},leftIconName:"magnifying_glass",rightIconName:"close"}),Object(x.jsx)("p",{children:"Trending: lorem, ipsum, dolor,"})]}),Object(x.jsxs)("div",{className:"author",children:["Background photo was take by ->"," ",Object(x.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://unsplash.com/@maxcorr77",children:"massimiliano corradini"})]})]})},_=n(38),k=n.n(_),I=n(39),T=n.n(I),E=d.a.create({baseURL:"https://api.unsplash.com"});E.interceptors.request.use((function(e){return e.headers.Authorization="Client-ID ".concat("eeaDIAZeAuCWy_e7vZ6CCqD_5WkpEJjt8GW8YnzKcOw"),e}));var H=E,F={getPhotos:function(e,t){return H.get("/search/photos",{params:{query:e,per_page:t}})},getPhoto:function(e){return H.get("/photos/".concat(e))}};var L="FETCH_PHOTOS_START",U="FETCH_PHOTOS_SUCCESS",A="FETCH_PHOTOS_FAILURE",P="FETCH_PHOTO_START",M="FETCH_PHOTO_SUCCESS",R="FETCH_PHOTO_FAILURE",D=function(e){return{type:U,payload:e}},G=function(e,t){return function(n){n({type:L}),F.getPhotos(e,t).then((function(e){n(D(e.data.results))})).catch((function(e){n({type:A,payload:e})}))}},B=function(e){return{type:M,payload:e}},q=function(e){return function(t){t({type:P}),F.getPhoto(e).then((function(e){t(B(e.data))})).catch((function(e){t({type:R,payload:e})}))}};var z=function(e){var t=e.imgSrc,n=e.imgAlt,o=e.linkHref,a=e.linkName,c=e.instaUserName;return Object(x.jsxs)("figcaption",{className:"author",children:[Object(x.jsx)("img",{className:"author-img",src:t,alt:n}),Object(x.jsxs)("a",{target:"_blank",rel:"noreferrer",className:"author-name",href:o,children:[Object(x.jsx)("span",{children:a}),c&&Object(x.jsxs)("span",{children:["@",c]})]})]})};var V=function(e){var t,n,o=e.photoUrls,a=e.photoAlt,c=e.author,i=e.photoId,s=e.showModal,r=Object(l.b)();return Object(x.jsxs)("figure",{className:"photo-container",onClick:function(){r(q(i)),s()},children:[Object(x.jsx)("img",{className:"img",src:o.regular||o.raw,alt:a}),Object(x.jsx)("div",{className:"overlay",children:Object(x.jsx)(z,{imgSrc:null===c||void 0===c||null===(t=c.profile_image)||void 0===t?void 0:t.small,imgAlt:null===c||void 0===c?void 0:c.name,linkHref:null===c||void 0===c||null===(n=c.links)||void 0===n?void 0:n.html,linkName:null===c||void 0===c?void 0:c.name})})]})};var W=function(){var e,t,n,a,c,i,u,d,h,j,p,O,m,N,S,_,I,E,H,F=Object(o.useState)(!1),L=Object(f.a)(F,2),U=L[0],A=L[1],P=Object(r.g)().photoName,M=Object(l.b)(),R=Object(r.f)(),W=Object(l.c)((function(e){return e.photos})),J=Object(l.c)((function(e){return e.suggestions}));Object(o.useEffect)((function(){return M(G(P,100)),function(){return M(D([]))}}),[P,M]);var K=Object(o.useCallback)((function(e){R.push({pathname:"".concat(b.photos,"/").concat(e)})}),[R]),X=function(){M(B({})),A(!1)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"photos-page",children:[Object(x.jsxs)("header",{className:"header",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)(s.b,{to:b.home,children:[Object(x.jsx)(y,{name:"home"}),Object(x.jsx)("div",{children:"GO HOME"})]}),Object(x.jsx)(w,{defaultValue:P,suggestions:(null===(e=J.data)||void 0===e||null===(t=e.autocomplete)||void 0===t?void 0:t.length)>0?v(J.data.autocomplete):[],getSuggestion:function(e){return K(e)},getLetters:function(e){return e.length>=3&&M(g(e))},leftIconName:"magnifying_glass",rightIconName:"close"})]}),Object(x.jsx)("div",{children:Object(x.jsx)("h1",{className:"h1",children:P})})]}),Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)(k.a,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:W.data.length>0&&W.data.map((function(e){return Object(x.jsx)(V,{photoId:e.id,photoUrls:null===e||void 0===e?void 0:e.urls,photoAlt:null===e||void 0===e?void 0:e.alt_description,author:null===e||void 0===e?void 0:e.user,showModal:function(){return t=e.id,M(q(t)),void A(!0);var t}},e.id)}))}),0===W.data.length&&!W.loading&&Object(x.jsx)("div",{children:"No photos :("}),W.loading&&Object(x.jsx)("div",{children:"Loading..."})]})]}),U&&(null===(n=W.photo)||void 0===n?void 0:n.id)&&Object(x.jsxs)(T.a,{isOpen:!0,className:"modal user-image",overlayClassName:"modal-overlay",ariaHideApp:!1,onRequestClose:X,children:[Object(x.jsxs)("div",{className:"modal-head",children:[Object(x.jsx)(C,{onClick:X,className:"icon",icon:"close"}),Object(x.jsx)(z,{imgSrc:null===(a=W.photo)||void 0===a||null===(c=a.user)||void 0===c||null===(i=c.profile_image)||void 0===i?void 0:i.medium,imgAlt:null===(u=W.photo)||void 0===u||null===(d=u.user)||void 0===d?void 0:d.name,linkHref:null===(h=W.photo)||void 0===h||null===(j=h.user)||void 0===j||null===(p=j.links)||void 0===p?void 0:p.html,linkName:null===(O=W.photo)||void 0===O||null===(m=O.user)||void 0===m?void 0:m.name,instaUserName:null===(N=W.photo)||void 0===N||null===(S=N.user)||void 0===S?void 0:S.instagram_username})]}),Object(x.jsx)("div",{className:"modal-content",children:Object(x.jsxs)("figure",{children:[Object(x.jsx)("img",{className:"img",src:(null===(_=W.photo.urls)||void 0===_?void 0:_.regular)||(null===(I=W.photo.urls)||void 0===I?void 0:I.raw),alt:null===(E=W.photo)||void 0===E?void 0:E.alt_description}),Object(x.jsxs)("figcaption",{children:["Description: ",(null===(H=W.photo)||void 0===H?void 0:H.alt_description)||"No description"]})]})}),Object(x.jsx)("div",{className:"modal-foot",children:Object(x.jsx)("div",{className:"location",children:Object(x.jsxs)("div",{className:"location-name",children:["Location:"," ",W.photo.location.name||"No data about location"]})})})]})]})};var J=function(){return Object(x.jsxs)("div",{className:"page-not-found",children:["404 - page not found",Object(x.jsx)(r.a,{children:Object(x.jsx)(s.b,{to:"/",children:"Back to home page"})})]})};var K=function(){var e=b.home,t=b.photos;return Object(x.jsx)("main",{className:"main",children:Object(x.jsx)(s.a,{children:Object(x.jsxs)(r.c,{children:[Object(x.jsx)(r.a,{exact:!0,path:e,component:S}),Object(x.jsx)(r.a,{path:"".concat(t,"/:photoName"),component:W}),Object(x.jsx)(r.a,{component:J})]})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),c(e),i(e)}))},Z=n(13),Y={data:[],photo:{},loading:!1,errorMessage:""},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:case P:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case U:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,data:t.payload});case M:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,photo:t.payload});case A:case R:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,errorMessage:t.payload});default:return e}},$={data:{},loading:!1,errorMessage:""},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case p:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,data:t.payload});case O:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,errorMessage:t.payload});default:return e}},te=n(40),ne=Object(Z.c)({photos:Q,suggestions:ee}),oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,ae=Object(Z.e)(ne,oe(Object(Z.a)(te.a)));i.a.render(Object(x.jsx)(l.a,{store:ae,children:Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(K,{})})}),document.getElementById("root")),X()}},[[79,1,2]]]);
//# sourceMappingURL=main.aa8f2cfc.chunk.js.map